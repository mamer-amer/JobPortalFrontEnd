<app-navbar></app-navbar>




<div style="min-height:
  100%">
  <div class="row no-gutters" style="border: 1px solid rgb(161, 158, 158);">
    <div class="col-md-4 border-right" style="height: 100vh">
      <div class="settings-tray">
        <img class="profile-image" src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/filip.jpg"
          alt="Profile img">
        <span class="settings-tray--right">
          <i class="material-icons">cached</i>
          <!-- <i class="material-icons">message</i>
           <i class="material-icons">menu</i> -->
        </span>
      </div>

      <div class="rightwindow chatbox" style="background-color: white;">
        <div class="search-box">
          <div class="input-wrapper">
            <i class="material-icons">search</i>
            <input placeholder="Search here" type="text">
          </div>
        </div>



        <div *ngFor="let friend of friends" (click)="gotoChatroom(friend.userId,friend)"
          class="friend-drawer friend-drawer--onhover">
          <img class="profile-image" [src]="friend.dp?'data:image/jpeg;base64,'+friend.dp:'../../assets/user.png'"
            alt="">
          <div class="text">
            <h6>{{friend.name}}</h6>
            <p class="text-muted">Hey, you're arrested!</p>
          </div>
          <span class="time text-muted small">13:21</span>
        </div>

        <!-- <div class="friend-drawer friend-drawer--onhover">
          <img class="profile-image"
            src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/optimus-prime.jpeg" alt="">
          <div class="text">
            <h6>Optimus</h6>
            <p class="text-muted">Wanna grab a beer?</p>
          </div>
          <span class="time text-muted small">00:32</span>
        </div> -->

        <!-- <div class="friend-drawer friend-drawer--onhover ">
          <img class="profile-image"
            src="https://www.clarity-enhanced.net/wp-content/uploads/2020/06/real-terminator.png" alt="">
          <div class="text">
            <h6>Skynet</h6>
            <p class="text-muted">Seen that canned piece of s?</p>
          </div>
          <span class="time text-muted small">13:21</span>
        </div> -->



      </div>
    </div>

    <div *ngIf="friendProfile" class="col-md-8" style="height: 100vh">
      <div class="settings-tray">
        <div *ngIf="friendProfile" class="friend-drawer no-gutters friend-drawer--grey">
          <img class="profile-image"
            [src]="friendProfile.dp?'data:image/jpeg;base64,'+friendProfile.dp:'../../assets/user.png'" alt="">
          <div style="padding-top: 10px;" class="text">
            <h5>{{friendProfile.name}}</h5>
            <!-- <p class="text-muted">Layin' down the law since like before Christ...</p> -->
          </div>
          <span class="settings-tray--right" style="margin-left:40%">
            <!-- <i class="material-icons">cached</i> -->
            <!-- <i class="material-icons">message</i>
             <i class="material-icons">menu</i> -->
            <!-- <i class="material-icons btn-minimize">close</i> -->
          </span>
        </div>
      </div>
      <div style="height:77vh;overflow-y: scroll;" class="chat-panel chatbox">
        <div *ngFor="let chat of chats" class="row no-gutters">
          <div [ngClass]="chat.sender==userId?{'col-md-3':true,'offset-md-9':true}:{'col-md-3':true}" class="col-md-3">
            <div
              [ngClass]="chat.sender==userId?{'chat-bubble':true,'chat-bubble--right':true}:{'chat-bubble':true,'chat-bubble--left':true}">
              {{chat.message}}
            </div>
          </div>
        </div>


      </div>

    </div>
  </div>
  <div *ngIf="friendProfile" class="row">
    <div class="col-lg-8 col-md-8 col-sm-12 offset-lg-4">
      <div class="chat-box-tray">
        <!-- <i class="material-icons">sentiment_very_satisfied</i> -->
        <input required type="text" style="width: 88%;text-indent: 10px;" #message
          placeholder="Type your message here...">
        <!-- <i class="material-icons">mic</i> -->
        <i [ngStyle]="{cursor: 'pointer',color:'#74B9FF'}" (click)="sendMessage(message)"
          class="material-icons">send</i>
      </div>
    </div>
  </div>
</div>




<!-- <div class="footer"
    style="  height: 50px;
  margin-top: -50px;">
    <app-footer>

    </app-footer> -->